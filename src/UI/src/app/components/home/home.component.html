<div class="bookmarks_content">
    <div class="bookmarks_breadcrumb">

      <span *ngFor="let p of pathElemets; let i = index">
        <span *ngIf="p === '/'">
          / <a class="root" (click)="gotoPath('/')">Root</a>
        </span>
        <span *ngIf="p !== '/' && i &lt; pathElemets.length - 1">
          / <a class="root" (click)="gotoPath(absolutePaths[i])">{{ p }}</a>
        </span>
        <span *ngIf="p !== '/' && i === pathElemets.length - 1 ">
          / {{ p }}
        </span>
      </span>

      <div class="float-right">
        <form class="form-inline my-lg-0" #searchForm="ngForm" name="searchForm">
          <input class="form-control mr-sm-2" type="search" name="searchInput"
            placeholder="Search" [(ngModel)]="search" aria-label="Search" required>
          <button class="btn btn-outline-success my-sm-0"
            type="button"
            (click)="searchBookmarks()"
            [disabled]="!searchForm.form.valid"
            >Search</button>
        </form>
      </div>

    </div>

    <div class="bookmarks_list">
      <div class="bookmark_item" *ngIf="bookmarks.length === 0">
        <i>no entries available</i>
      </div>
      <div class="bookmark_item" *ngFor="let item of bookmarks; let i = index" id="{{ item.id }}">
        <span class="bookmark_index">{{ i+1 }}</span>&nbsp;
        <span *ngIf="item.type === 'Node'">
          <i class="fa fa-external-link" aria-hidden="true"></i>&nbsp;
          <span class="badge badge-dark bookmark_path_info" *ngIf="searchMode" (click)="gotoPath(item.path)">{{ item.path }}</span>&nbsp;
          <a href="{{ item.url}}" target="_blank" class="bookmark_name">{{ item.displayName }}</a>
          [ URL: <a href="{{ item.url}}" target="_blank" class="bookmark_url">{{ item.url }}</a> ]
        </span>
        <span *ngIf="item.type === 'Folder'">
          <i class="fa fa-folder" aria-hidden="true"></i>&nbsp;
          <span class="badge badge-dark bookmark_path_info" *ngIf="searchMode" (click)="gotoPath(item.path)">{{ item.path }}</span>&nbsp;
          <a class="bookmark_folder" (click)="gotoPath(item.path + '/' + item.displayName)">{{ item.displayName }}</a>
          <span class="badge badge-pill badge-warning bookmark_child_items" *ngIf="item.childCount > 0">{{ item.childCount }}</span>
        </span>

        <div class="bookmark_actions">
          <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="edit bookmark items">
            <mat-icon>more_vert</mat-icon>
          </button>

          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="deleteBookmark(item.id)">
              <mat-icon>delete</mat-icon>
              <span>Delete</span>
            </button>
            <button mat-menu-item (click)="editBookmark(item.id)">
              <mat-icon>create</mat-icon>
              <span>edit</span>
            </button>
          </mat-menu>
        </div>
      </div>
    </div>
</div>

<div class="add" *ngIf="isAdmin" >
  <button mat-fab
      color="accent"
      (click)="addBookmark()">
      <i class="fa fa-plus fa-2x" aria-hidden="true" matTooltip="Add a new bookmark" matTooltipPosition="before"></i>
  </button>
</div>
